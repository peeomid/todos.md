# tmd Interactive Mode – Requirements

> This document defines the interactive TUI (“terminal user interface”) for `tmd`.
> It assumes you already know the `tmd` CLI, todo format, and `tmd index`.

---

## 1. Purpose & Data Flow

### 1.1. Goal

`tmd interactive` is a full-screen terminal UI (TUI) for working with todos faster and more comfortably than typing CLI commands.

It should let you:

* See **Today** and other views at a glance.
* Navigate tasks with **vim keys + arrows**.
* **Edit tasks** (status, priority, bucket, plan, due, text) via small menus.
* **Search/filter live** within any view (plus global search).
* Keep **Markdown (`todos.md`) as the single source of truth**.

### 1.2. Data sources

* **Canonical data**: Markdown files (primarily `todos.md`, plus any other task-bearing `.md` files you choose).
* **Index/cache**: `todos.json` (or the configured `output` path) generated by `tmd index`.

### 1.3. Lifecycle of `tmd interactive`

1. **Start**

 * Show a clear startup status (so the user knows the app is working), e.g.:
   * `Starting…`
   * `Running enrich…`
   * `Running index…`
   * `Loading todos.json…`
 * Run `tmd enrich` automatically to ensure every task has an `id:` (and to canonicalize shorthands if present).
 * Run `tmd index` automatically.
 * Load tasks from `todos.json` (or the configured `output` path) into memory.
2. **During session**

 * All reads/searches use the in-memory task list.
 * All edits write directly to the Markdown files.
 * In-memory tasks are updated to match each edit.
3. **Exit**

 * Show a clear exit status (so it doesn’t look like the terminal is “hung”), e.g.:
   * `Exiting…`
   * `Reindexing…`
   * `Syncing…`
   * `Done.`
 * Run `tmd index` again to resync `todos.json` with Markdown.
 * Run `tmd sync` once to regenerate view files.
 * Exit to shell.

---

## 2. Screen Layout & Colors

### 2.1. Core layout (ASCII)

Rough layout:

```text
┌────────────────────────── tmd – Today (bucket:today | plan:today | due:today) ──────────────────────────┐
[0] All [1] Now [2] Today [3] Upcoming [4] Anytime [5] Someday [6] Projects [/] Search 
├────────────────────────────── Task List ─────────────────────────────────────┤
│ as-onb — Autosenso Onboarding (2 tasks)                                      │
│ [ ] (A) !  Draft welcome email           as-onb:1   plan:2025-12-18   60m    │
│ [ ] (B) >  Refactor onboarding flow      as-onb:2   bucket:upcoming          │
│ life — Life Admin (1 task)                                                   │
│ [x] (B) ~  Call bank about card          life:2     plan:2025-12-18   15m    │
│                                                                              │
│ View: Today (2)  |  Query: status:open (bucket:today | plan:today | due:today)  |  Flags: hide-done, pri:high-first │
├──────────────────────────── Details / Help ──────────────────────────────────┤
│ Draft welcome email                                                         │
│ project: as-onb   area: sidebiz   bucket: today   priority: high            │
│ energy: normal   plan: 2025-12-18   due: -   est: 60m                       │
│ file: projects/autosenso.md:23                                              │
│──────────────────────────────────────────────────────────────────────────────│
│ [j/k/↑/↓] move  [space] toggle done  [p] priority  [b] bucket  [n] now↔today  [/] search   │
│ [P] plan  [d] due  [a] add  [t/!] today  [u/>] upcoming  [y/~] anytime  [s] someday  [0–9] views  [q] quit     │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 2.2. Color usage

Use a small, meaningful color palette:

* **Selected row**: highlighted (reverse video or accent background).
* **Active view tab**: distinct background color in the header tabs row.
* **Project header rows**: bold + accent color, with the count dimmed.
* **Status**:

 * Done tasks: dim/faded (e.g. same color but “dim” attribute).
* **Priority**:

 * `priority:high` – accent color (e.g. bright red/yellow).
 * `priority:normal` – default color.
 * `priority:low` – grey/faint.
* **Bucket / priority shorthands (in task rows)**:

 * Priority (first token after checkbox): `(A)` high, `(B)` normal, `(C)` low
* Bucket (next token, after optional priority): `*` now, `!` today, `>` upcoming, `~` anytime, `?` someday
 * Note: these shorthands are **rendered by the TUI** from `priority:`/`bucket:` metadata; the TUI does not automatically write shorthand tokens back into the Markdown task text.
* **Task text vs metadata**:

 * Task text: normal/bright.
 * Metadata (IDs, dates, estimates): dim by default; highlight key dates (e.g. `plan:`/`due:`) with an accent.
* **Header query**:

 * The `Query:` value in the header should use a distinct accent color (so it’s noticeable even when the rest of the header is dim).
* **Bucket** (in details or small tag in list):

 * `now` – strong accent (e.g. green) and the bucket shorthand (`*`) should be clearly visible.
 * `now` tasks should also be visually distinct in the list (e.g. subtle background highlight).
 * `today` – accent (e.g. cyan) and the bucket shorthand (`!`) should be clearly visible.
 * `upcoming` – another accent (e.g. blue).
 * `someday` – dim.

Colors should be:

* Defined centrally (e.g. via color pairs).
* Optional / configurable (a “no color” mode later).

---

## 2.3. Library decision matrix (v1)

We want stable, minimal dependencies, good performance, and decent testability.

| Option | Pros | Cons | Testability notes |
|---|---|---|---|
| `terminal-kit` | Minimal deps; fast; low-level control; easy to keep stable long-term | More manual UI plumbing (list behavior, focus, popups) | Drive input via a fake `stdin` and capture output via a fake `stdout`; keep “state transitions” separate from rendering for unit tests |
| Ink (React) | Strong structure; component model; rich ecosystem | Heavier deps (React); more framework overhead than needed for a small stable tool | Unit-test components/state naturally; still need integration-style tests for keybindings and terminal output |

Decision: use `terminal-kit` for v1.

---

## 3. Views

### 3.1. Built-in views

Each view has:

* A **key** (for quick jump).
* A **name**.
* A **base query** (same syntax as `tmd list` filter language).
* A **default sort**.

Built-ins (v1):

* **0 – All**

 * `key: "0"`
 * `name: "All"`
 * `base query`: all tasks (filtered by show/hide done flag).
* **1 – Now**

 * `key: "1"`
 * `name: "Now"`
 * `base query`: `status:open bucket:now`

* **2 – Today**

 * `key: "2"`
 * `name: "Today"`
 * `base query`: `status:open (bucket:today | plan:today | due:today)`
* **3 – Upcoming**

 * `key: "3"`
 * `name: "Upcoming"`
 * `base query`: `status:open bucket:upcoming`
* **4 – Anytime**

 * `key: "4"`
 * `name: "Anytime"`
 * `base query`: `status:open bucket:anytime`
* **5 – Someday**

 * `key: "5"`
 * `name: "Someday"`
 * `base query`: `status:open bucket:someday`
* **6 – Projects**

 * `key: "6"`
 * `name: "Projects"`
 * Shows a list of projects, not tasks.
 * Press `/` to activate filtering, then type to filter (live substring match on `id`, `name`, and `area`).
 * While filtering is active: `Enter` accepts; `Esc` cancels and restores the previous filter.
 * In the projects list, list movement supports arrow keys (↑/↓) and vim keys (`j/k`) when not filtering.
 * Selecting a project opens a project-specific task list (like `status:open project:<id>`).
 * `Ctrl+N` adds a new project and immediately switches into that project’s drilldown view.
 * Add-project flow guidance (v1):
   - No file picker. The project is added to the “current file”:
     - If a project row is selected, use that project’s `filePath`.
     - Otherwise, use the selected task’s `filePath` (if any).
     - Otherwise, use the first configured input file.
   - No heading-level prompt. Heading level is auto-chosen (`#` vs `##`) based on the destination file’s existing structure.
   - First prompt is always the name: `Project name: _` (Enter saves, Esc cancels).
   - Follow-ups:
   - `Project id (slug):` (pre-filled; Enter accepts)
   - `Area (optional):`

Rendering rule (v1):
* All task lists (Today/Upcoming/Anytime/Someday/All and project drilldown) are grouped hierarchically:
  * If present in the Markdown, **area headings** (headings with `area:` but no `project:`) render as a parent header row above their projects.
  * Projects render as a header row under the area header (if any).
  * Within a project, **organizational headings** (plain Markdown headings with no `[...]` metadata) render as section header rows under the project.
  * Tasks render under their project header.
  * Area headers are shown in **every view**, but only when they have ≥1 matching task in that view (no “empty” area headers).
* Project grouping:
  * `projectId — project name (count task(s))`
  * Headers are selectable.
  * `h` / `←` collapses the selected header/task (shows ▾/▸); if already collapsed (or not foldable), it goes to the parent.
  * `l` / `→` expands the selected header/task; if already expanded, it goes to the first child (when applicable).
  * The task list shows a leftmost row-number column (1-based), and `:` opens a go-to-line prompt to jump to a specific row.
  * Projects that are in-scope for the current view (e.g. `project:` filters) may still be shown even if they have 0 matching tasks.
* Sorting must not break hierarchy:
  * A subtask is always rendered under its parent (never “floats” above it due to sort).
  * Sort keys are applied in a tree-preserving way (effectively ordering subtrees while keeping parent→children adjacency).

### 3.2. Custom views (config)

In `tmd` config (e.g. YAML):

```yaml
views:
 - key: "6"
 name: "High Impact"
 query: "status:open priority:high"
 sort: "bucket,plan,due"

 - key: "7"
 name: "Work – This Week"
 query: "status:open area:work plan:this-week"
 sort: "plan,due,priority"
```

Requirements:

* `key`: single character (`0–9`, or letters).
* `name`: label in UI.
* `query`: filter string.
* `sort` (optional): comma-separated fields; fallback to default sort if missing.

Custom views can be jumped to by pressing their `key`.

---

## 4. Navigation & Keybindings

### 4.1. Global navigation

* `q` – quit interactive mode.
* `Ctrl+C` – quit interactive mode if pressed twice (first press shows a prompt).
Help is always displayed at the bottom (below the details panel).
* `r` – refresh (re-read `todos.json` without restarting; optional v2).
* `0–9` – jump to specific view (0 = All, 1 = Today, etc.).
* `?` – show shorthand help (priority/bucket shorthands displayed in task rows).
* `o` – toggle priority ordering (high-first → low-first → off); current mode shows in the header flags line.
* `T` / `U` / `Y` / `S` – toggle **focusing** `bucket:today` / `bucket:upcoming` / `bucket:anytime` / `bucket:someday` within the current view (implemented as a query rewrite: sets `bucket:<bucket>`; pressing again clears `bucket:`).

### 4.2. Task list navigation (vim style + arrows)

* `j` / `↓` – move selection down.
* `k` / `↑` – move selection up.
* `g` – jump to top.
* `G` – jump to bottom.
* `Ctrl+U` / `PgUp` – half page up.
* `Ctrl+D` / `PgDn` – half page down.
* `:` – open “go to line” prompt; type a row number and press Enter to jump.
* `h` / `←` – collapse current row; if already collapsed (or not foldable), go to parent.
* `l` / `→` – expand current row; if already expanded, go to first child (when applicable).
* `f` – fold/unfold everything.

---

## 5. Search & Filtering

### 5.1. Entering search mode

* `/` – enter live search mode **scoped to current view**.

Behavior:

* A search bar appears at bottom.
* Input is **pre-filled** with the current query for the view, plus a trailing space (so you can type immediately).
* On every keypress, the task list is re-filtered.
* You can edit anywhere in the search string (not just at the end).
* While a text input is focused, printable characters are treated as text (global shortcuts like `q` do not fire).

Editing inside the search bar (best-effort; depends on terminal key mapping):

* `←/→` — move cursor
* `Home/End` (or `Ctrl+A` / `Ctrl+E`) — start/end of line
* `Option+←/→` (or `Ctrl+←/→`) — move by word
* `Backspace` / `Delete` — delete left/right
* `Option+Backspace` (or `Ctrl+W`) — delete previous word
* `Cmd+Backspace` (or `Ctrl+U`) — delete to start of line
* `Ctrl+K` — delete to end of line

Example in Today view:

```text
Search (scope: view): status:open bucket:today _
```

You can:

* Add text filter: `text:stripe`
* Add more filters: `priority:high`, `area:work`, etc.
* Or just type plain words (e.g. `stripe invoice`) which behave like `text:` filters.

Resulting query used:

* `(<view base query>) + (whatever is in the search bar)`

### 5.2. Scope toggle (view vs global)

Inside search bar:

* `Ctrl+/` – toggle between:

 * **View scope**: base query of view + search string.
 * **Global scope**: ignore view base query, use search string alone.

Prompt example:

```text
Search (scope: global): text:stripe priority:high _
```

### 5.3. Autocomplete for filter keys and values

While typing in search mode, the TUI provides inline autocomplete suggestions for filter keys and values.

#### 5.3.1. Autocomplete trigger

* Autocomplete activates automatically as you type.
* When typing a partial filter key (e.g., `bu`), suggestions appear for matching keys (e.g., `bucket:`).
* After typing a colon (e.g., `bucket:`), suggestions appear for valid values (e.g., `now`, `today`, `upcoming`, `anytime`, `someday`).

#### 5.3.2. Autocomplete navigation

* `Tab` – accept the currently selected suggestion.
* `↑` – select previous suggestion.
* `↓` – select next suggestion.
* Continue typing – filters suggestions to match typed text.
* `Esc` – cancel autocomplete (or exit search if no autocomplete active).

#### 5.3.3. Filter key suggestions

Available filter keys:
* `status:` – Task completion status (open, done, all)
* `bucket:` – Planning bucket (now, today, upcoming, anytime, someday)
* `energy:` – Energy level (high, normal, low)
* `priority:` – Priority level (high, normal, low)
* `project:` – Project ID (dynamic, from task index)
* `area:` – Area name (dynamic, from task index)
* `due:` – Due date (YYYY-MM-DD, today, tomorrow)
* `plan:` – Planned date (YYYY-MM-DD, today, tomorrow)
* `tags:` – Tag name (dynamic, from task index)
* `parent:` – Parent task ID (dynamic, from task index)
* `top-level:` – Show only top-level tasks (true)
* `overdue:` – Show only overdue tasks (true)
* `text:` – Full-text search (freeform)

#### 5.3.4. Filter value suggestions

Value suggestions depend on the filter key:

* **Static values** (`status`, `bucket`, `energy`, `priority`): Fixed list of valid values.
* **Dynamic values** (`project`, `area`, `tags`, `parent`): Extracted from the task index; suggestions update as the index changes.
* **Date values** (`due`, `plan`): Shortcuts like `today`, `tomorrow`, plus `YYYY-MM-DD` format hint.
* **Boolean values** (`overdue`, `top-level`): Only `true` is valid.

#### 5.3.5. Rendering

Suggestions appear in an inline panel below the search prompt:

```text
Search (scope: view): bu█
────────────────────────
▶ bucket:        Planning bucket
  …
```

After typing `bucket:`:

```text
Search (scope: view): bucket:█
────────────────────────
▶ now            Working on right now
  today          Today's focus
  upcoming       Next up
  anytime        Flexible timing
  ...
```

* Selected suggestion is highlighted (reverse video or accent background).
* Up to 4 suggestions shown at once (truncated with `...` if more available).
* Suggestions disappear if no matches found.

### 5.4. Exiting search

* `Enter`:
 * Apply the current search input as the active query.
 * Leave search mode and return to the list for navigation.

* `Esc` or `Ctrl+C`:

 * Leave search mode.
 * Cancel the in-progress search edits (keep the previously active query).
 * Hide search bar.

### 5.5. Query display

The top bar’s “Query” section shows:

* The **actual query** used right now.
* E.g. in search:

 ```text
 View: Today (2) | Query: status:open (bucket:today | plan:today | due:today) text:stripe priority:high | Flags: hide-done, pri:high-first
 ```

---

## 6. Show / Hide Done Tasks

Global toggle:

* `z` – toggle between hiding and showing done tasks.

Behavior:

* Maintains an internal flag: `show_done` boolean.
* When `show_done = false`:

 * Only show tasks considered “open” (`status:open`).
* When `show_done = true`:

 * Show both open and done tasks (`status:any`).
* This wraps around the current query (view + search).
* Top bar “Flags” section shows `hide-done` or `show-done`, plus the current priority ordering mode (e.g. `pri:high-first`).

Implementation detail:

* `show_done` is expressed directly in the query string as a `status:` filter.
* `show_done = false` → ensure query contains `status:open` (remove any existing `status:*` first).
* `show_done = true` → ensure query contains `status:all` (remove any existing `status:*` first).
* This applies consistently in both view-scoped and global search scopes.
* More generally: any interaction that changes what the task list shows must update the displayed query string (view changes, search typing, scope toggles, project drill-down, and `z`).

---

## 7. Task Actions & Mini Menus

All edits:

* Must write changes back to Markdown (`todos.md` or the relevant project file).
* Must update the in-memory task list immediately.
* Must not change non-task content.

### 7.1. Toggle done

* Key: `space`

Behavior:

* Switch `[ ]` ↔ `[x]`.
* Update `status` in index (`open`/`done`).
* Respect `show_done` flag (task may disappear if hiding done).

### 7.1b. Delete task

* Key: `r`

Behavior:

* Confirm before deleting.
* Deletes the selected task and any subtasks (indented subtree).
* Writes changes back to Markdown and refreshes the in-memory list.

### 7.2. Priority mini menu

* Key: `p`

Popup:

```text
Set priority for: Draft welcome email

 [h] high
 [n] normal
 [l] low
 [c] clear

 [Esc] cancel
```

Effects:

* `h` → `priority:high`
* `n` → `priority:normal`
* `l` → `priority:low`
* `c` → remove `priority` key.

### 7.3. Bucket mini menu

* Key: `b`

Popup:

```text
Set bucket for: Draft welcome email

 [n] now
 [t] today
 [u] upcoming
 [a] anytime
 [s] someday
 [c] clear

 [Esc] cancel
```

Effects:

* `n` → `bucket:now`.
* `t` → `bucket:today`, and if `plan` empty, set `plan:<today>`.
* `u` → `bucket:upcoming`.
* `a` → `bucket:anytime`.
* `s` → `bucket:someday`.
* `c` → remove `bucket`.

### 7.3b. Toggle “now” bucket (quick)

* Key: `n`

Behavior:

* If `bucket` is `now`, set `bucket:today` (and if `plan` is empty, set `plan:<today>`).
* Otherwise set `bucket:now`.

### 7.3c. Quick-set buckets (single key)

Keys (when a task row is selected):

* `t` or `!` toggles `bucket:today` on/off (when toggling on, if `plan` empty, set `plan:<today>`).
* `u` or `>` toggles `bucket:upcoming` on/off.
* `y` or `~` toggles `bucket:anytime` on/off.
* `s` toggles `bucket:someday` on/off.

### 7.4. Plan date mini menu

* Key: `P`

Popup:

```text
Plan date for: Draft welcome email

 [t] today
 [m] manual (YYYY-MM-DD or +Nd/+Nw)
 [c] clear

 Input: _
```

Effects:

* `t` → `plan:<today>`.
* `m`:

 * Ask for input: `YYYY-MM-DD` or a shortcut like `+1d`, `+3d`, `+1w`.
 * Convert to canonical `YYYY-MM-DD` and set `plan:...`.
* `c` → clear `plan`.

### 7.5. Due date mini menu

* Key: `d`

Popup:

```text
Due date for: Draft welcome email

 [t] today
 [m] manual (YYYY-MM-DD or +Nd/+Nw)
 [c] clear

 Input: _
```

Effects:

* Same as plan date, but sets/clears `due`.

### 7.6. Edit full task text / metadata

* Key: `e`

Behavior (v1):

`e` opens a 2-field edit modal:

- `Text` – task description
- `Meta` – metadata *inner* content (the part inside `[ ... ]`, i.e. `key:value key:value`)

Key rules (consistent with search-style autocomplete):

- If a suggestion list is visible:
  - `Tab` / `Enter` selects (applies) the highlighted suggestion
  - `↑/↓` moves the highlighted suggestion
- If no suggestion list is visible:
  - `Tab` goes to the next field
  - `Shift+Tab` goes to the previous field (best-effort; depends on terminal key mapping)
  - `Enter` goes to the next field (or saves on the final field)
  - `↑/↓` moves focus between fields
  - `←/→`, `Home/End`, `Option+←/→`, `Backspace/Delete` work within the active field (same as search bar)

Later (optional): support `$EDITOR` integration.

---

## 8. Creating Tasks

* Key: `a` – add a new task.

Project targeting (must be explicit to the user):

* The add UI always makes the destination project explicit (Project is a first-class field).
* Default project selection (in order):
  1. If in Projects drilldown, add to that project.
  2. If the current list contains tasks from exactly one project, add to that project.
  3. Otherwise, default to the selected task’s project.
  4. Otherwise, fall back to Inbox (`interactive.defaultProject`, default `"inbox"`).
* The Project field is prefilled by the rules above, but the modal starts focused on **Text** (Project/Header sit above it and can be changed with `Shift+Tab`).
* When a project is selected, the Project field displays `projectId — project name`.
* Header targeting:
  - When the destination project has section headings (Markdown headings inside the project), the add modal offers a `Header` picker.
  - Default header is the current cursor’s header (if the selection is inside a header group); otherwise `(no header)`.
* Default insertion rule:
  - If the cursor is on a task and you keep Project/Header unchanged, adding inserts **after the selected task** at the **same indentation level** (i.e. a sibling).
  - Otherwise, adding inserts into the chosen Project/Header (project end if `(no header)`).

Flow:

`a` opens a 4-field add modal:

1. `Project` (with typeahead suggestions)
2. `Header` (optional; section heading within the project)
3. `Text`
4. `Meta` (optional; autocomplete for common metadata keys/values)

Key rules:

- If a suggestion list is visible:
  - `Tab` / `Enter` selects (applies) the highlighted suggestion
  - `↑/↓` moves the highlighted suggestion
- If no suggestion list is visible:
  - `Tab` goes to the next field
  - `Shift+Tab` goes to the previous field (best-effort; depends on terminal key mapping)
  - `Enter` goes to the next field (or saves on the final field)
  - `↑/↓` moves focus between fields
  - `←/→`, `Home/End`, `Option+←/→`, `Backspace/Delete` work within the active field (same as search bar)

Result:

* Append a new Markdown line under the appropriate project heading.
* Create metadata block with:

 * `id` (generated),
 * plus any user-provided metadata (e.g. `priority`, `bucket`, `plan`, `due`, `energy`, `est`, `tags`, `area`).
* Add task to in-memory list and show it in the current view if it matches.

---

## 9. File Handling & Soft Protection

### 9.1. Single source of truth

* Markdown files (`todos.md` and any others) are canonical.
* All edits **must** be applied to Markdown, not `todos.json`.

### 9.2. Indexing behavior

On `tmd interactive`:

1. **Startup:**

 * Run `tmd enrich` to ensure tasks have IDs and canonical metadata.
 * Run `tmd index`.
 * Load tasks from `todos.json` (or configured `output` path).

2. **Exit:**

 * Run `tmd index` again to regenerate `todos.json` with all changes.
 * Run `tmd sync` once to regenerate view files.

### 9.3. Task-to-file mapping

Index (`todos.json`) must contain enough info to locate tasks:

* `file_path`
* `project_id`
* `local_id` (the per-project task id)
* Optionally a `line_hint` to speed up lookup.

When editing a task:

* The TUI locates the task by its `global_id` (i.e. `project_id:local_id`) and rewrites the line in that file.
* Fast path: use the in-memory task’s `lineNumber` as a hint (O(1)) and verify that the line still matches the task (`id:<local_id>` + same project context).
* Fallback: if verification fails (or the file was externally edited), re-parse the file to rebuild the `global_id -> lineNumber` map for that file, then retry the edit.

### 9.4. Soft protection for external edits

Problem: user may edit `todos.md` outside `tmd interactive` while interactive is open.

Requirement:

* On interactive start, record file `mtime` (modification time) for each file **and start watching the files** for changes.
* When a watched file changes:

 * Automatically reload from disk (rebuild the in-memory index).
 * Show a visible indicator (e.g. a header badge like `Auto-reloaded (todos.md)`).
 * If the changed file contains newly added tasks missing `id:`, run `enrich` on that file before rebuilding the index (so new tasks appear immediately).
   - Disable with config `interactive.autoEnrichOnReload: false`.

* Before writing changes to a file:

 * Re-check the file’s current `mtime`.
 * If `mtime` has changed since last time TUI touched it, **force an automatic reload first** (no prompt), then attempt the write against the refreshed state.

This avoids silently overwriting external changes while keeping the workflow “always safe by default”.

---

## 10. Config Summary for Interactive Mode

Config options relevant to interactive:

* `views` – list of custom views (key, name, query, sort).
* `colors` – optional color settings (or a simple `disable_colors` flag).
* (Future) `keys` – optional key remapping.

Defaults should allow `tmd interactive` to run with **zero config**, using built-in views and default colors.

---

This requirement document should give you (or an AI helper) a clear, end-to-end picture of how `tmd interactive` should look, behave, and integrate with your existing `tmd` CLI and Markdown-based task system.
